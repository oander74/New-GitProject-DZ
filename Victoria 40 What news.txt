
4.46 от 12 августа 2008
- Кнопка получения паспорта разделена на две отдельные (обычный и 
  расширеный паспорт). Для удобства, да и есть винты которые виснут
  от лишних команд.
- В HPA добавлен чекбокс, определяющий, будет ли вызываться 
  расширенный паспорт после изменения HPA.
- Исправлена куча глюков в паспорте. В частности, не обнулялись 
  некоторые переменные. Добавлено определение режимов Single Word 
  DMA и Multi Word DMA.
- Исправлен глюк, в результате которого программа пыталась самовольно 
  лезть к винту при отсутствии поддержки LBA (причем, лезть она пыталась 
  в сектор номер -1).
- Сделана авто-установка галки "48 bit", если объем HDD выше 128 Гб.
- Исправлены глюки. При установленной галке "Only non destr func" и запуске 
  seek'a, запрет на запись снимался после остановки seek'a.
- Исправлен глюк. Пока не получили паспорт через порты - ползунок AAM можно 
  было двигать. Это приводило к ошибке интерфейса после изменеия, если винт
  не был подключен. Запретил элементы AAM до получения паспорта.
- Добавлена проверка буфера и интерфейса HDD в паспорт.
- Добавлено опреление числа процессоров, выдается в лог при старте.
- Исправлен небольшой глюк в ATA. При поднятом DRQ раньше программа выдавала
  "Waiting of readiness..." и ничего не происходило. Теперь выдается фраза о 
  неготовности устройства.
- Добавлены индикаторы-светодиоды чтения/записи на диск.
- Ширина хинтов увеличена до 400 точек.
- Новые SMART-атрибуты 184,187, имеющие отношение к дефектам, выделены 
  фиолетовым цветом.
- Расширено поле End LBA в таблице разделов, чтоб в него помещался винт на 1Тб;
- При установке курсора на строку лога - из нее выдирается число, и копируется 
  в буфер обмена правой кнопкой мыши.
- Выбор порта во время тестов теперь заблокирован.
- Автоматически снимается флажок Sound, если запустить программу после часа 
  ночи. В 7 утра он снова восстанавливается, если до этого стоял.
- если не найдено ини-файла при старте, то в лог выдается предупреждение о 
  сбросе настроек в дефолт.
- Изменен алгоритм инициализации и проверки готовности винта. Если винт в DRQ 
  перед получением паспорта - программа советует нажать ресет. Если стот галка 
  reset+, то ресет посылается автоматически при каждом получении паспорта.
- Во время скана теперь проверяется еще и флаг WRFT. Совместно с DRSC, DRDY
  данная проверка определяет дисконнект устройства.



4.44
- Устранен еще один глюк с флешками.
- Команда E2 (sleep) заменена на E0.

4.43
- Устранен Integer Overflow при подключении флешек, отдающих неправильный 
  размер.


4.42 
- Добавлена неофициальная поддержка платы PC3000 UDMA: исправлен детект 
  альт-порта на плате, добавлена работа со вторым каналом, проверена работа
  адаптеров питания;
- Исправлен глюк: скан чтением и записью через порты - останавливался на 
  процессорах с переменной тактовой частотой;
- Для многоядерных компьютеров добавлен новый тип таймера - G.T.C. (Setup).
  Он позволяет устранить проблемы со спонтанными остановками процессов и с 
  неадекватным поведением счетчиков. Однако он менее точен;
- В HELP'е появилось подробное описание таймеров.


4.41 
- Немного расширен список фирм-изготовителей контроллеров;
- Процент выполнения теперь выводится прямо на кнопку диспетчера задач;
- Добавлено определение частоты CPU каждый раз заново при запуске любого теста
  (галка Always ajusting RDTSC...). Благодаря этому стала возможной точная 
  работа программы на компьютерах с переменной тактовой частотой;
- Ликвидировано мерцание графика в момент запуска скана с выключенной картой
  (проявлялось на слабых CPU);
- Исправлена ошибка, в результате которой не отображался SMART ATA винчестеров 
  в режиме SCSI-паспорта;
- В паспорт добавлено определение NCQ, PEC, поколения SATA;
- Добавлен винчестеро-зависимый SMART для накопителей IBM/HITACHI;
- Добавлена поддержка супер-SMART для IBM/HITACHI ("заводские" атрибуты);
- Исправлена ошибка, в результате которой не выводился статус security erase 
  в версии 4.3;
- Добавлен показ предельных температур, которые когда-либо переживал винт.
  (Для тех винтов, которые это поддерживают);
- Добавлено автоматическое переключение на вкладку Standard при выборе API;
- При переключении на API панель с "лампочками" регистров теперь исчезает за 
  ненадобностью. Также исчезает форма индикации регистров;
- Сделан индикатор работы, показывающий активность задач программы;
- Сделал авто-снятие с записи после окончания стирания;
- При копировании в clipboard таблицы SMART - добавляется имя диска и SN;
- Добавлено получение серийного номера и версии фирмвари через API, для USB/SCSI 
  устройств;
- Сделано гашение лампочек при дисконнекте винта в PIO;
- Устранен глюк. Скан после ресета по таймауту шел дальше, не ждал готовности HDD; 
- Устранен глюк. Не закрывался хендлер при просмотре таблицы разделов через API;
- Устранен глюк. При открытии диска с дефектами в HEX редакторе, в поле ввода ЛБА 
  попадал мусор;
- Сделано сохранение MBR (сектор 0) диска при просмотре таблицы разделов. На всякий 
  пожарный...
- В режиме API теперь нельзя ни просмотреть таблицу разделов, ни изменить ее 
  до тех пор, пока не получен паспорт. Это сделано для избежании ситуации типа
  "изменил то, не знаю что";
- Немного улучшена работа прыжков в скане, в режиме PIO;



 4.4 - промежуточная версия с поддержкой Remote HDD - работа с удаленным HDD 
       через Интернет в режиме PIO. Распространялась только в закрытой группе.


 4.3 - значительная переделка и усложнение всего комплекса, в связи с чем 
       freeware-версия снова "beta".

  Интерфейс:
  -----------
- Введены некоторые элементы защиты от невнимательности, а именно:
  * Автоматическое исправление неверно введенных границ диапазона LBA;
  * Предупреждение при попытке стереть системный диск в режиме API;
  * Предупреждение перед стиранием диска, если винчестер был подменен;
  * При переключении PIO-API переключатель записи автоматически 
    сбрасывается;
  * Номер порта и тип канала с тестируемым HDD выведен поверх закладок, 
    в правый верхний угол;
- Работа с логическими дисками через API стала удобней. Их список выводится 
  вслед за физическими на вкладке 'Standard'. Опция настраиваемая,
  в частности можно отключить работу с дискетами (на вкладке 'Setup');
- Теперь работает copy-paste в полях ввода LBA seek. Появились кнопочки 
  сброса значений LBA;
- В Seek добавлен счетчик числа позиционирований;
- Из графика убран ручной переключатель множителя, вместо него введено 
  автоматическое масштабирование в зависимости от скорости тестируемого 
  накопителя (от 2 до 980 мб/с, что теоретически позволяет тестировать 
  как высокоскоростные RAID массивы, так и дискеты);
- Ликвидировано мерцание элементов графика за счет двойной буферизации;
- При EraseBlock в логи заносится диапазон секторов стертого блока;
- Добавлена возможность скопировать в буфер обмена не только весь паспорт, 
  но и отдельную его строку;
- В панели STANDARD, SMART, TESTS добавлены сплиттеры (разделители), 
  позволяющие менять размеры окон как плавно, так и на максимальный размер 
  двойным щелчком мыши;
- Добавлена возможность копирования в буфер обмена информации о разделах;
- Немного улучшен вид логов за счет сокращения поля времени, последняя 
  строчка теперь выделена синим цветом;
- В SMART добавлен показ температуры по Фаренгейту;
- В SMART шкала "здоровья" HDD меняет цвет в зависимости от значения;
- Цветовая схема интерфейса теперь определяется настройками Windows, и не 
  имеет фиксированных цветов как раньше;
- добавлены значки-пиктограммы в меню;
- для эстетов добавлена возможность переключения скругленных рамок на 
  классические прямые (setup); 
- Добавлены функциональные клавиши F1 (справка), F2 (паспорт), F3 (сброс HDD
  в режиме PIO), F4 (запуск/остановка скана поверхности), F5 (запуск/остановка
  теста позиционирования), F9 (получение SMART);


  Исправленные ошибки, улучшения:
  -------------------------------
- Исправлена "идеологическая ошибка", оставшаяся от ДОС-версии. Она заключалась 
  в том, что "последний LBA" винта был равен их количеству (реально - на 1 
  меньше, ибо нумерация секторов начинается с 0), и все тесты игнорировали этот 
  несуществующий адрес, к тому же нельзя было ввести одинаковые значения границ;
- Снят запрет на ввод одинаковых значений на первый и последний LBA ;-)
- Устранен выход за границу Start LBA при реверсивном скане;
- Исправлена ошибка с незакрытием хендлера диска в режиме скана через API;
- Программа адаптирована к ошибке в микрокоде HDD Seagate U5, в результате 
  которой эти накопители возвращают неверные CHS параметры;
- Исправлена ошибка, из-за которой при переключении метода обработки дефектов 
  во время скана поверхности не корректировался таймаут (хотя визуально он 
  менялся);
- Для накопителей малых объемов размер отображается в килобайтах (API);
- Исправлена ошибка, приводящая к появлению неправильного количества LBA в 
  окне HPA при получении паспорта на дисках, у которых число доступных LBA
  намного (> 1000 раз) меньше реального;
- Скорость стирания в режиме API немного увеличена (5-10%);
- Немного снижена нагрузка на CPU при рисовании карты;
- Устранены "тормоза" при скроллировании карты, когда скан остановлен;
- Исправлена ошибка с неверной конвертацией строки "х G" (где х - число) при 
  вводе вместо номера LBA;
- Исправлен баг с неправильным показом флажков SATA/LBA48 для виртуальных 
  и USB дисков;
- Исправлена ошибка, в результате которой не выбиралась папка с логами 
  при открытии файла паспорта и SMART;
- Исправлены незначительные погрешности при синхронизации переключателей;
- Исправлена ошибка, из-за которой посылался reset в винт через порты при
  "быстрой навигации" во время скана поверхности через API;
- Исправлена куча незначительных ошибок и в некоторых местах оптимизирован код;


  Добавление новых возможностей:
  -------------------------------
- Сделана возможность проверки достоверности записанных данных в режиме API,
  получившая условное название Data Distortion Detect (контроль искажений 
  данных, сокращенно DDD или 3D). Работает оно следующим образом: если при 
  записи установить чекбокс "DDD Enable", в блок будет записан специальный 
  контрольный код, который затем проверяется чтением. При несовпадении хотя-бы 
  одного бита будет выдана ошибка "data distortion!"; 
- Добавлена возможность пронумеровать все секторы при стирании через API. 
  Также в каждый сектор добавляется дата и время стирания;
- Добавлено запоминание номера API устройства в INI-файле;
- Показ номеров LBA при наведении курсора на карту скана теперь работает 
  и при реверсе;
- Если тестируемый накопитель является съемным устройством, предполагается,
  что его скорость невысокая и устанавливаются тайминги выше чем для HDD;
- При нажатии правой кнопкой мыши на карту скана теперь появляетя менюшка,
  предлагающая назначить границы выбранного блока диапазоном сканирования;
- В скан через API добавлено распознавание ошибок UNCR, IDNF, ABRT, Write 
  protected (характерное для Flash), AMNF (дискеты) и несколько других;
- Введен контроль готовности HDD перед регулировкой AAM, что устранило
  напрасные ожидания, и связанные с этим "залипания" ползунка AAM; 
- Добавлена возможность подачи звукового сигнала после окончания Security 
  Erase;
- Добавлена попытка остановки вала HDD,CD командой SCSI через API. Теперь 
  должно работать на SCSI и на SATA дисках через доп. контролеры;
- API Verify в скане и в Seek'е теперь осуществляется SCSI командой Verify,
  благодаря этому теперь можно тестировать USB/FireWire накопители на 
  номинальной скорости, без ограничений интерфейса;
- Добавлено принудительное переключение на SCSI команду получения паспорта 
  из-за глюков драйвера SATA контроллера SiI3112 при обработке ATA-команд;
- Изменена логика определения размера накопителей через API. Теперь программа 
  сначала пытается получить LBA размер SCSI командой, если не сработало -
  проверяется геометрия диска другой командой, и по CHS вычисляется размер.
  * Опцию CHS можно отключить галкой "Don't get drive type", т.к. мне не 
  понравилась ее работа на 'Apple' FireWire HDD Box;
- Добавлена краткая справка в виде внешнего HTML, вызываемая по F1. Вы можете 
  пополнять ее самостоятельно;
- Добавлен дисковый просмотрщик/редактор, панель Advanced приведена к 
  нормальному виду.
- Добавлен еще один пункт в меню окончания скана поверхности. Он выключает ATX
  компьютер с корректным завершением Windows;
- Секторы при ремапе теперь помечаются повторяющейся сигнатурой "REMAP!!!",
  а не заполняются мусором, как раньше.


   4.2 - добавление работы с дисками через Win API. Первые шаги с API.

- Добавлена работа с физическими дисками Windows через API - только в 
  Windows класса NT/2000/XP. Поддерживаются
  IDE, SATA, USB, FireWire, Flash, SCSI накопители и виртуальные диски 
  BestCrypt. Также поддерживаются CD, FDD и т.п. "логические" (но пока 
  реализовано неудобно). SMART пока работает только на IDE и SATA HDD; 
  Через API стало возможным тестировать системный винчестер;
- Исправлена ошибка, в результате которой отображалась удвоенная скорость на 
  тесте "BUTTERFLY";
- Исправлена ошибка, приводящая к аварийному завершению программы на 
  винчестере с поврежденной SMART таблицей;
- Исправлен глюк, приводивший к аварийному завершению при регулировке ААM на 
  некоторых системах;


  4.1 - устранение основных недостатков.
  
- Исправлена ошибка, которая приводила к нежизнеспособности программы на 
  итальянской версии Windows; 
- Изменен вид лога, для совместимости с форматами времени других стран 
  (особенно отличились Албания и Гондурас - у них время пишется в совершенно 
  жутком виде, как например 2:00:09 PD); Также пришлось изменить и формат 
  INI-файла;
- Добавлено опознание Windows Vista;
- Исправлены незначительные ошибки в коде и интерфейсе;
- Изменен элемент регулировки таймаута при скане поверхности, добавлено 
  бесконечное ожидание готовности, что позволило переключать питание 
  тестируемого HDD без остановки скана;
- В полной версии добавлено PIO-32 копирование секторов в файл с "длинным 
  чтением" и пропуском дефектов (в бесплатной пока отключил);

  4.0 - Начало.
  Первая версия для Windows. Поддержка работы только через порты.

rtuteu
rtukj
eruttjk



